<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>自研电商综合管理系统 V8.260113.01</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f7fa;
            color: #333;
            height: 100vh;
            overflow: hidden;
        }
        
        /* 主应用容器 */
        .app-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        
        /* 顶部标题栏 */
        .app-header {
            background: linear-gradient(135deg, #007AFF 0%, #0056CC 100%);
            color: white;
            padding: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-shrink: 0;
        }
        
        .app-title {
            font-size: 18px;
            font-weight: 600;
        }
        
        .current-system {
            font-size: 14px;
            opacity: 0.9;
        }
        
        /* 标签页导航 */
        .tab-nav {
            display: flex;
            background: white;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            flex-shrink: 0;
            justify-content: center;
        }
        
        .tab {
            padding: 15px 20px;
            border: none;
            background: none;
            border-bottom: 3px solid transparent;
            color: #666;
            min-width: 100px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s ease;
        }
        
        .tab.active {
            border-bottom-color: #007AFF;
            color: #007AFF;
            font-weight: 600;
        }
        
        /* 内容区域 */
        .content-area {
            flex: 1;
            position: relative;
            overflow: hidden;
            background: #f9f9f9;
        }
        
        /* iframe容器 */
        .iframe-container {
            width: 100%;
            height: 100%;
            position: relative;
        }
        
        iframe {
            width: 100%;
            height: 100%;
            border: none;
            transition: transform 0.3s ease;
        }
        
        /* 缩放控制 */
        .zoom-controls {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            display: flex;
            gap: 1px;
            overflow: hidden;
            z-index: 100;
        }
        
        .zoom-btn {
            width: 40px;
            height: 40px;
            border: none;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 18px;
            transition: background-color 0.2s;
        }
        
        .zoom-btn:hover {
            background-color: #f0f0f0;
        }
        
        /* 加载状态 */
        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #007AFF;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        
        /* 响应式调整 */
        @media (max-width: 768px) {
            .tab {
                min-width: 90px;
                padding: 12px 15px;
                font-size: 13px;
            }
            
            .zoom-controls {
                bottom: 15px;
                right: 15px;
            }
            
            .zoom-btn {
                width: 36px;
                height: 36px;
                font-size: 16px;
            }
        }
        
        @media (max-width: 480px) {
            .app-title {
                font-size: 16px;
            }
            
            .current-system {
                font-size: 12px;
            }
            
            .tab {
                min-width: 80px;
                padding: 10px 12px;
                font-size: 12px;
            }
        }
        
        /* 动画 */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- 主应用界面 -->
    <div class="app-container">
        <!-- 顶部标题栏 -->
        <div class="app-header">
            <div class="app-title">自研电商综合管理系统</div>
            <div class="current-system" id="currentSystem">订单管理</div>
        </div>
        
        <!-- 标签页导航 -->
        <div class="tab-nav">
            <button class="tab active" data-index="0">订单管理</button>
            <button class="tab" data-index="1">快递库存</button>
            <button class="tab" data-index="2">商品库存</button>
            <button class="tab" data-index="3">快递查询</button>
        </div>
        
        <!-- 内容区域 -->
        <div class="content-area" id="contentArea">
            <!-- 加载状态 -->
            <div class="loading-overlay" id="loadingOverlay">
                <div class="loading-spinner"></div>
                <div id="loadingText">正在加载系统...</div>
            </div>
            
            <!-- iframe容器 -->
            <div class="iframe-container" id="iframeContainer">
                <!-- iframe将在这里动态创建 -->
            </div>
            
            <!-- 缩放控制按钮 -->
            <div class="zoom-controls">
                <button class="zoom-btn" id="zoomOut">−</button>
                <button class="zoom-btn" id="zoomReset">↺</button>
                <button class="zoom-btn" id="zoomIn">+</button>
            </div>
        </div>
    </div>

    <script>
        // 系统配置 - 网络链接
        const systems = [
            {
                name: '订单管理系统',
                shortName: '订单管理',
                url: 'https://kevinludashi.github.io/DDGL2026/', // 替换为实际网络链接
                zoom: 1.0
            },
            {
                name: '计数及快递库存管理系统',
                shortName: '快递库存',
                url: 'https://kevinludashi.github.io/JS_KDXT2026/', // 替换为实际网络链接
                zoom: 1.0
            },
            {
                name: '商品库存管理系统',
                shortName: '商品库存',
                url: 'https://kevinludashi.github.io/KCXT2026/', // 替换为实际网络链接
                zoom: 1.0
            },
            {
                name: '自研快递查询程序',
                shortName: '快递查询',
                url: 'https://kevinludashi.github.io/KDCXXT2026/', // 替换为实际网络链接
                zoom: 1.0
            }
        ];
        
        // 全局变量
        let currentSystemIndex = 0;
        let currentIframe = null;
        let currentZoom = 1.0;
        const minZoom = 0.5;
        const maxZoom = 2.0;
        const zoomStep = 0.1;
        
        // DOM元素
        const currentSystemElement = document.getElementById('currentSystem');
        const contentArea = document.getElementById('contentArea');
        const iframeContainer = document.getElementById('iframeContainer');
        const loadingOverlay = document.getElementById('loadingOverlay');
        const loadingText = document.getElementById('loadingText');
        const tabs = document.querySelectorAll('.tab');
        const zoomOutBtn = document.getElementById('zoomOut');
        const zoomResetBtn = document.getElementById('zoomReset');
        const zoomInBtn = document.getElementById('zoomIn');
        
        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            initApplication();
        });
        
        // 初始化应用
        function initApplication() {
            // 设置标签点击事件
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    if (index !== currentSystemIndex) {
                        switchSystem(index);
                    }
                });
            });
            
            // 设置缩放按钮事件
            zoomOutBtn.addEventListener('click', () => zoomOut());
            zoomResetBtn.addEventListener('click', () => resetZoom());
            zoomInBtn.addEventListener('click', () => zoomIn());
            
            // 初始加载第一个系统
            loadSystem(0);
        }
        
        // 切换系统
        function switchSystem(index) {
            if (index < 0 || index >= systems.length) return;
            
            // 更新标签状态
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            const activeTab = document.querySelector(`.tab[data-index="${index}"]`);
            activeTab.classList.add('active');
            
            // 更新当前系统
            currentSystemIndex = index;
            currentSystemElement.textContent = systems[index].shortName;
            
            // 恢复该系统的缩放级别
            currentZoom = systems[index].zoom;
            
            // 加载系统
            loadSystem(index);
        }
        
        // 加载系统
        function loadSystem(index) {
            const system = systems[index];
            
            // 显示加载状态
            loadingOverlay.style.display = 'flex';
            loadingText.textContent = `正在加载${system.name}...`;
            
            // 清理iframe容器
            iframeContainer.innerHTML = '';
            
            // 创建iframe
            currentIframe = document.createElement('iframe');
            currentIframe.id = `iframe-${index}`;
            currentIframe.src = system.url;
            currentIframe.onload = () => {
                // 隐藏加载状态
                loadingOverlay.style.display = 'none';
                
                // 应用当前缩放级别
                applyZoom();
            };
            
            currentIframe.onerror = () => {
                loadingText.textContent = '加载失败，请检查网络连接';
                setTimeout(() => {
                    loadingOverlay.style.display = 'none';
                }, 2000);
            };
            
            iframeContainer.appendChild(currentIframe);
        }
        
        // 应用缩放
        function applyZoom() {
            if (currentIframe) {
                currentIframe.style.transform = `scale(${currentZoom})`;
                currentIframe.style.transformOrigin = '0 0';
                
                // 更新系统配置中的缩放级别
                systems[currentSystemIndex].zoom = currentZoom;
            }
        }
        
        // 缩小
        function zoomOut() {
            if (currentZoom - zoomStep >= minZoom) {
                currentZoom -= zoomStep;
                currentZoom = Math.round(currentZoom * 10) / 10; // 保留一位小数
                applyZoom();
            }
        }
        
        // 重置缩放
        function resetZoom() {
            currentZoom = 1.0;
            applyZoom();
        }
        
        // 放大
        function zoomIn() {
            if (currentZoom + zoomStep <= maxZoom) {
                currentZoom += zoomStep;
                currentZoom = Math.round(currentZoom * 10) / 10; // 保留一位小数
                applyZoom();
            }
        }
        
        // 键盘快捷键支持
        document.addEventListener('keydown', (event) => {
            // Ctrl + 加号: 放大
            if ((event.ctrlKey || event.metaKey) && (event.key === '+' || event.key === '=')) {
                event.preventDefault();
                zoomIn();
            }
            
            // Ctrl + 减号: 缩小
            if ((event.ctrlKey || event.metaKey) && event.key === '-') {
                event.preventDefault();
                zoomOut();
            }
            
            // Ctrl + 0: 重置缩放
            if ((event.ctrlKey || event.metaKey) && event.key === '0') {
                event.preventDefault();
                resetZoom();
            }
            
            // Ctrl + 数字键: 切换标签页
            if (event.ctrlKey || event.metaKey) {
                const key = parseInt(event.key);
                if (key >= 1 && key <= 4) {
                    event.preventDefault();
                    const index = key - 1;
                    if (index < systems.length) {
                        switchSystem(index);
                    }
                }
            }
        });
        
        // 触摸屏缩放支持（双指缩放）
        let initialDistance = 0;
        
        iframeContainer.addEventListener('touchstart', (event) => {
            if (event.touches.length === 2) {
                initialDistance = getDistance(event.touches[0], event.touches[1]);
            }
        });
        
        iframeContainer.addEventListener('touchmove', (event) => {
            if (event.touches.length === 2) {
                event.preventDefault();
                
                const currentDistance = getDistance(event.touches[0], event.touches[1]);
                const scaleChange = currentDistance / initialDistance;
                
                if (scaleChange > 1.1) {
                    // 双指分开，放大
                    zoomIn();
                    initialDistance = currentDistance;
                } else if (scaleChange < 0.9) {
                    // 双指捏合，缩小
                    zoomOut();
                    initialDistance = currentDistance;
                }
            }
        });
        
        // 计算两点之间的距离
        function getDistance(touch1, touch2) {
            const dx = touch2.clientX - touch1.clientX;
            const dy = touch2.clientY - touch1.clientY;
            return Math.sqrt(dx * dx + dy * dy);
        }
    </script>
</body>
</html>